[2021-04-10 00:09:16] local.INFO: select * from `wallet` where `user_id` = ? and `coin` = ? limit 1 [1,"BTC"] 
[2021-04-10 00:09:16] local.ERROR: SQLSTATE[HY000]: General error: 1364 Field 'plan_id' doesn't have a default value (SQL: insert into `invest` (`user_id`, `updated_at`, `created_at`) values (1, 2021-04-10 00:09:16, 2021-04-10 00:09:16)) {"exception":"[object] (Illuminate\\Database\\QueryException(code: HY000): SQLSTATE[HY000]: General error: 1364 Field 'plan_id' doesn't have a default value (SQL: insert into `invest` (`user_id`, `updated_at`, `created_at`) values (1, 2021-04-10 00:09:16, 2021-04-10 00:09:16)) at D:\\investing\\server\\vendor\\illuminate\\database\\Connection.php:678)
[stacktrace]
#0 D:\\investing\\server\\vendor\\illuminate\\database\\Connection.php(638): Illuminate\\Database\\Connection->runQueryCallback('insert into `in...', Array, Object(Closure))
#1 D:\\investing\\server\\vendor\\illuminate\\database\\Connection.php(472): Illuminate\\Database\\Connection->run('insert into `in...', Array, Object(Closure))
#2 D:\\investing\\server\\vendor\\illuminate\\database\\Connection.php(424): Illuminate\\Database\\Connection->statement('insert into `in...', Array)
#3 D:\\investing\\server\\vendor\\illuminate\\database\\Query\\Processors\\Processor.php(32): Illuminate\\Database\\Connection->insert('insert into `in...', Array)
#4 D:\\investing\\server\\vendor\\illuminate\\database\\Query\\Builder.php(2882): Illuminate\\Database\\Query\\Processors\\Processor->processInsertGetId(Object(Illuminate\\Database\\Query\\Builder), 'insert into `in...', Array, 'id')
#5 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Builder.php(1547): Illuminate\\Database\\Query\\Builder->insertGetId(Array, 'id')
#6 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Model.php(1051): Illuminate\\Database\\Eloquent\\Builder->__call('insertGetId', Array)
#7 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Model.php(1016): Illuminate\\Database\\Eloquent\\Model->insertAndSetId(Object(Illuminate\\Database\\Eloquent\\Builder), Array)
#8 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Model.php(857): Illuminate\\Database\\Eloquent\\Model->performInsert(Object(Illuminate\\Database\\Eloquent\\Builder))
#9 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Builder.php(816): Illuminate\\Database\\Eloquent\\Model->save()
#10 D:\\investing\\server\\vendor\\illuminate\\support\\helpers.php(263): Illuminate\\Database\\Eloquent\\Builder->Illuminate\\Database\\Eloquent\\{closure}(Object(App\\Models\\Invest))
#11 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Builder.php(817): tap(Object(App\\Models\\Invest), Object(Closure))
#12 D:\\investing\\server\\vendor\\illuminate\\support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->create(Array)
#13 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Model.php(1885): Illuminate\\Database\\Eloquent\\Model->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'create', Array)
#14 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Model.php(1897): Illuminate\\Database\\Eloquent\\Model->__call('create', Array)
#15 D:\\investing\\server\\app\\Http\\Controllers\\InvestController.php(36): Illuminate\\Database\\Eloquent\\Model::__callStatic('create', Array)
#16 D:\\investing\\server\\vendor\\illuminate\\container\\BoundMethod.php(36): App\\Http\\Controllers\\InvestController->start(Object(Laravel\\Lumen\\Http\\Request))
#17 D:\\investing\\server\\vendor\\illuminate\\container\\Util.php(40): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#18 D:\\investing\\server\\vendor\\illuminate\\container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#19 D:\\investing\\server\\vendor\\illuminate\\container\\BoundMethod.php(37): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Laravel\\Lumen\\Application), Array, Object(Closure))
#20 D:\\investing\\server\\vendor\\illuminate\\container\\Container.php(610): Illuminate\\Container\\BoundMethod::call(Object(Laravel\\Lumen\\Application), Array, Array, NULL)
#21 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(386): Illuminate\\Container\\Container->call(Array, Array)
#22 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(352): Laravel\\Lumen\\Application->callControllerCallable(Array, Array)
#23 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(326): Laravel\\Lumen\\Application->callLumenController(Object(App\\Http\\Controllers\\InvestController), 'start', Array)
#24 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(279): Laravel\\Lumen\\Application->callControllerAction(Array)
#25 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(259): Laravel\\Lumen\\Application->callActionOnArrayBasedRoute(Array)
#26 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Routing\\Pipeline.php(48): Laravel\\Lumen\\Application->Laravel\\Lumen\\Concerns\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#27 D:\\investing\\server\\app\\Http\\Middleware\\JwtMiddleware.php(35): Laravel\\Lumen\\Routing\\Pipeline->Laravel\\Lumen\\Routing\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#28 D:\\investing\\server\\vendor\\illuminate\\pipeline\\Pipeline.php(167): App\\Http\\Middleware\\JwtMiddleware->handle(Object(Laravel\\Lumen\\Http\\Request), Object(Closure))
#29 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Routing\\Pipeline.php(30): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#30 D:\\investing\\server\\vendor\\illuminate\\pipeline\\Pipeline.php(103): Laravel\\Lumen\\Routing\\Pipeline->Laravel\\Lumen\\Routing\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#31 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(423): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#32 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(260): Laravel\\Lumen\\Application->sendThroughPipeline(Array, Object(Closure))
#33 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(166): Laravel\\Lumen\\Application->handleFoundRoute(Array)
#34 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Routing\\Pipeline.php(48): Laravel\\Lumen\\Application->Laravel\\Lumen\\Concerns\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#35 D:\\investing\\server\\app\\Http\\Middleware\\CorsMiddleware.php(30): Laravel\\Lumen\\Routing\\Pipeline->Laravel\\Lumen\\Routing\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#36 D:\\investing\\server\\vendor\\illuminate\\pipeline\\Pipeline.php(167): App\\Http\\Middleware\\CorsMiddleware->handle(Object(Laravel\\Lumen\\Http\\Request), Object(Closure))
#37 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Routing\\Pipeline.php(30): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#38 D:\\investing\\server\\vendor\\illuminate\\pipeline\\Pipeline.php(103): Laravel\\Lumen\\Routing\\Pipeline->Laravel\\Lumen\\Routing\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#39 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(423): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#40 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(172): Laravel\\Lumen\\Application->sendThroughPipeline(Array, Object(Closure))
#41 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(109): Laravel\\Lumen\\Application->dispatch(NULL)
#42 D:\\investing\\server\\public\\index.php(29): Laravel\\Lumen\\Application->run()
#43 {main}

[previous exception] [object] (PDOException(code: HY000): SQLSTATE[HY000]: General error: 1364 Field 'plan_id' doesn't have a default value at D:\\investing\\server\\vendor\\illuminate\\database\\Connection.php:471)
[stacktrace]
#0 D:\\investing\\server\\vendor\\illuminate\\database\\Connection.php(471): PDOStatement->execute()
#1 D:\\investing\\server\\vendor\\illuminate\\database\\Connection.php(671): Illuminate\\Database\\Connection->Illuminate\\Database\\{closure}('insert into `in...', Array)
#2 D:\\investing\\server\\vendor\\illuminate\\database\\Connection.php(638): Illuminate\\Database\\Connection->runQueryCallback('insert into `in...', Array, Object(Closure))
#3 D:\\investing\\server\\vendor\\illuminate\\database\\Connection.php(472): Illuminate\\Database\\Connection->run('insert into `in...', Array, Object(Closure))
#4 D:\\investing\\server\\vendor\\illuminate\\database\\Connection.php(424): Illuminate\\Database\\Connection->statement('insert into `in...', Array)
#5 D:\\investing\\server\\vendor\\illuminate\\database\\Query\\Processors\\Processor.php(32): Illuminate\\Database\\Connection->insert('insert into `in...', Array)
#6 D:\\investing\\server\\vendor\\illuminate\\database\\Query\\Builder.php(2882): Illuminate\\Database\\Query\\Processors\\Processor->processInsertGetId(Object(Illuminate\\Database\\Query\\Builder), 'insert into `in...', Array, 'id')
#7 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Builder.php(1547): Illuminate\\Database\\Query\\Builder->insertGetId(Array, 'id')
#8 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Model.php(1051): Illuminate\\Database\\Eloquent\\Builder->__call('insertGetId', Array)
#9 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Model.php(1016): Illuminate\\Database\\Eloquent\\Model->insertAndSetId(Object(Illuminate\\Database\\Eloquent\\Builder), Array)
#10 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Model.php(857): Illuminate\\Database\\Eloquent\\Model->performInsert(Object(Illuminate\\Database\\Eloquent\\Builder))
#11 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Builder.php(816): Illuminate\\Database\\Eloquent\\Model->save()
#12 D:\\investing\\server\\vendor\\illuminate\\support\\helpers.php(263): Illuminate\\Database\\Eloquent\\Builder->Illuminate\\Database\\Eloquent\\{closure}(Object(App\\Models\\Invest))
#13 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Builder.php(817): tap(Object(App\\Models\\Invest), Object(Closure))
#14 D:\\investing\\server\\vendor\\illuminate\\support\\Traits\\ForwardsCalls.php(23): Illuminate\\Database\\Eloquent\\Builder->create(Array)
#15 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Model.php(1885): Illuminate\\Database\\Eloquent\\Model->forwardCallTo(Object(Illuminate\\Database\\Eloquent\\Builder), 'create', Array)
#16 D:\\investing\\server\\vendor\\illuminate\\database\\Eloquent\\Model.php(1897): Illuminate\\Database\\Eloquent\\Model->__call('create', Array)
#17 D:\\investing\\server\\app\\Http\\Controllers\\InvestController.php(36): Illuminate\\Database\\Eloquent\\Model::__callStatic('create', Array)
#18 D:\\investing\\server\\vendor\\illuminate\\container\\BoundMethod.php(36): App\\Http\\Controllers\\InvestController->start(Object(Laravel\\Lumen\\Http\\Request))
#19 D:\\investing\\server\\vendor\\illuminate\\container\\Util.php(40): Illuminate\\Container\\BoundMethod::Illuminate\\Container\\{closure}()
#20 D:\\investing\\server\\vendor\\illuminate\\container\\BoundMethod.php(93): Illuminate\\Container\\Util::unwrapIfClosure(Object(Closure))
#21 D:\\investing\\server\\vendor\\illuminate\\container\\BoundMethod.php(37): Illuminate\\Container\\BoundMethod::callBoundMethod(Object(Laravel\\Lumen\\Application), Array, Object(Closure))
#22 D:\\investing\\server\\vendor\\illuminate\\container\\Container.php(610): Illuminate\\Container\\BoundMethod::call(Object(Laravel\\Lumen\\Application), Array, Array, NULL)
#23 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(386): Illuminate\\Container\\Container->call(Array, Array)
#24 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(352): Laravel\\Lumen\\Application->callControllerCallable(Array, Array)
#25 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(326): Laravel\\Lumen\\Application->callLumenController(Object(App\\Http\\Controllers\\InvestController), 'start', Array)
#26 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(279): Laravel\\Lumen\\Application->callControllerAction(Array)
#27 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(259): Laravel\\Lumen\\Application->callActionOnArrayBasedRoute(Array)
#28 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Routing\\Pipeline.php(48): Laravel\\Lumen\\Application->Laravel\\Lumen\\Concerns\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#29 D:\\investing\\server\\app\\Http\\Middleware\\JwtMiddleware.php(35): Laravel\\Lumen\\Routing\\Pipeline->Laravel\\Lumen\\Routing\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#30 D:\\investing\\server\\vendor\\illuminate\\pipeline\\Pipeline.php(167): App\\Http\\Middleware\\JwtMiddleware->handle(Object(Laravel\\Lumen\\Http\\Request), Object(Closure))
#31 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Routing\\Pipeline.php(30): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#32 D:\\investing\\server\\vendor\\illuminate\\pipeline\\Pipeline.php(103): Laravel\\Lumen\\Routing\\Pipeline->Laravel\\Lumen\\Routing\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#33 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(423): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#34 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(260): Laravel\\Lumen\\Application->sendThroughPipeline(Array, Object(Closure))
#35 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(166): Laravel\\Lumen\\Application->handleFoundRoute(Array)
#36 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Routing\\Pipeline.php(48): Laravel\\Lumen\\Application->Laravel\\Lumen\\Concerns\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#37 D:\\investing\\server\\app\\Http\\Middleware\\CorsMiddleware.php(30): Laravel\\Lumen\\Routing\\Pipeline->Laravel\\Lumen\\Routing\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#38 D:\\investing\\server\\vendor\\illuminate\\pipeline\\Pipeline.php(167): App\\Http\\Middleware\\CorsMiddleware->handle(Object(Laravel\\Lumen\\Http\\Request), Object(Closure))
#39 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Routing\\Pipeline.php(30): Illuminate\\Pipeline\\Pipeline->Illuminate\\Pipeline\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#40 D:\\investing\\server\\vendor\\illuminate\\pipeline\\Pipeline.php(103): Laravel\\Lumen\\Routing\\Pipeline->Laravel\\Lumen\\Routing\\{closure}(Object(Laravel\\Lumen\\Http\\Request))
#41 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(423): Illuminate\\Pipeline\\Pipeline->then(Object(Closure))
#42 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(172): Laravel\\Lumen\\Application->sendThroughPipeline(Array, Object(Closure))
#43 D:\\investing\\server\\vendor\\laravel\\lumen-framework\\src\\Concerns\\RoutesRequests.php(109): Laravel\\Lumen\\Application->dispatch(NULL)
#44 D:\\investing\\server\\public\\index.php(29): Laravel\\Lumen\\Application->run()
#45 {main}
"} 
[2021-04-10 00:10:22] local.INFO: select * from `wallet` where `user_id` = ? and `coin` = ? limit 1 [1,"BTC"] 
[2021-04-10 00:10:22] local.INFO: insert into `invest` (`user_id`, `plan_id`, `coin`, `amount`, `updated_at`, `created_at`) values (?, ?, ?, ?, ?, ?) [1,"1","BTC","0.21","2021-04-10 00:10:22","2021-04-10 00:10:22"] 
[2021-04-10 00:10:22] local.INFO: update `wallet` set `balance` = ?, `freezed` = ?, `wallet`.`updated_at` = ? where `id` = ? [0.0,0.31,"2021-04-10 00:10:22",1] 
[2021-04-10 00:10:31] local.INFO: select * from `wallet` where `user_id` = ? and `coin` = ? limit 1 [1,"BTC"] 
