(window["webpackJsonpadmin-panel"]=window["webpackJsonpadmin-panel"]||[]).push([[11],{100:function(e,a,t){"use strict";t.d(a,"a",(function(){return s}));var n=t(175),r=t(106),c=t(107),l=t(108),i=t(109),o=t(15);function s(){var e=Object(o.a)().setting.lang;return n.a.addLocale(r),n.a.addLocale(c),n.a.addLocale(l),n.a.addLocale(i),new n.a(e)}},171:function(e,a,t){"use strict";t.r(a);var n=t(9),r=t(0),c=t.n(r),l=t(79),i=t(14),o=t(80),s=t(87),u=t(78),m=t(15),d=t(93),v=t.n(d),f=t(81),b=t(4),p=t(100),g=t(37);a.default=function(e){var a,t,d,E=e.match,h=Object(p.a)(),j=null!==(a=E.params.id)&&void 0!==a?a:0,O=Object(b.g)(),N=Object(r.useState)({}),w=Object(n.a)(N,2),y=w[0],x=w[1],k=Object(r.useState)(!1),C=Object(n.a)(k,2),L=C[0],S=C[1],A=Object(r.useState)({}),D=Object(n.a)(A,2),R=D[0],P=D[1],T=Object(r.useState)(!1),M=Object(n.a)(T,2),F=M[0],H=M[1],J=Object(m.a)().setting.token,_=Object(r.useState)(""),q=Object(n.a)(_,2),z=q[0],B=q[1];Object(r.useEffect)((function(){j||O.replace("/ticket"),U()}),[]);var U=function(){Object(u.b)("view-ticket",{ticket:j,token:J}).then((function(e){(null===e||void 0===e?void 0:e.success)&&x(null===e||void 0===e?void 0:e.success)}))};return c.a.createElement("div",null,c.a.createElement(l.a,{title:"addTicket",icon:"mdi-message-text"}),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12 grid-margin stretch-card"},c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h4",{className:"card-title pb-2"},null===y||void 0===y?void 0:y.title),(null===y||void 0===y||null===(t=y.messages)||void 0===t?void 0:t.length)>0?null===y||void 0===y||null===(d=y.messages)||void 0===d?void 0:d.map((function(e,a){return c.a.createElement("div",{key:a,className:"card my-2 card-"+(0==e.user_id?"grey":"info")},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",null,e.text),c.a.createElement("span",{className:"badge badge-primary float-left"},h.format(new Date(e.added_on).getTime()))))})):c.a.createElement(g.a,{forDiv:!0}),!F&&c.a.createElement("form",{className:"mt-5",autoComplete:"off",onSubmit:function(e){e.preventDefault(),null==function(){var e={};z.length<10&&(e.text="validation.min"),""==z&&(e.text="validation.empty");var a=v.a.isEmpty(e)?null:e;return P(a),a}()&&(S(!0),Object(u.b)("replay-ticket",{ticket:j,text:z,token:J}).then((function(e){if(S(!1),e.success)H(!0),U(),B("");else if(e.error){var a={};for(var t in e.error)a[t]=[t,e.error[t][0]];P(a)}})))}},c.a.createElement(s.a,{name:"replay",multiLine:!0,value:z,onChange:B,error:null===R||void 0===R?void 0:R.text}),c.a.createElement(f.a,{variant:"success",show:F},Object(i.a)("successTicket")),c.a.createElement("div",{className:"mt-3"},c.a.createElement(o.a,{loading:L,className:"btn btn-success font-weight-medium"},Object(i.a)("submit")))))))))}},78:function(e,a,t){"use strict";t.d(a,"a",(function(){return u})),t.d(a,"b",(function(){return m}));var n=t(83),r=t.n(n),c=t(85),l=t(84),i=t.n(l),o=t(86),s=Object(o.setup)({axios:i.a,baseURL:"https://stronghold.live/api/",timeout:5e3,validateStatus:function(){return!0},cache:{maxAge:1e3}}),u=function(){var e=Object(c.a)(r.a.mark((function e(a,t){var n,c,l,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},e.prev=1,(null===t||void 0===t?void 0:t.cache)&&(n.cache={maxAge:6e5}),e.next=5,s.get(a,n);case 5:return c=e.sent,e.next=8,c;case 8:return l=e.sent,i=l.data,e.abrupt("return",i);case 13:return e.prev=13,e.t0=e.catch(1),window.postMessage({notify:["error","try-later"]},"*"),e.next=18,0;case 18:return e.abrupt("return",e.sent);case 19:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(a,t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(a,t,n){var c,l,i,o,u,m;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(i in c={},e.prev=1,(null===n||void 0===n?void 0:n.cache)&&(c.cache={maxAge:6e5}),l=new FormData,t)l.append(i,t[i]);return o=s.post(a,l,c),e.next=8,o;case 8:return u=e.sent,(null===(m=u.data)||void 0===m?void 0:m.login)&&window.postMessage({login:!0},"*"),e.abrupt("return",m);case 14:return e.prev=14,e.t0=e.catch(1),window.postMessage({notify:["error","try-later"]},"*"),e.next=19,0;case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(a,t,n){return e.apply(this,arguments)}}()},79:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(14);a.a=function(e){var a=e.title,t=e.icon;return r.a.createElement("div",{className:"page-header"},r.a.createElement("h3",{className:"page-title"},r.a.createElement("span",{className:"page-title-icon bg-gradient-primary text-black mr-2"},r.a.createElement("i",{className:"mdi "+t}))," ",Object(c.a)(a)," "),r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ul",{className:"breadcrumb"},r.a.createElement("li",{className:"breadcrumb-item active","aria-current":"page"},r.a.createElement("span",null)," ",r.a.createElement("i",{className:"mdi mdi-alert-circle-outline icon-sm text-primary align-middle"})))))}},80:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(90);a.a=function(e){return r.a.createElement("button",{className:e.className,onClick:null===e||void 0===e?void 0:e.onClick},e.loading?r.a.createElement(c.a,{as:"span",animation:"border",size:"sm"}):e.children)}},81:function(e,a,t){"use strict";var n=t(1),r=t(3),c=t(10),l=t.n(c),i=t(0),o=t.n(i),s=t(22),u=t(13),m=t(5),d=t(82),v=t(2),f=t.n(v),b={label:f.a.string.isRequired,onClick:f.a.func},p=o.a.forwardRef((function(e,a){var t=e.label,c=e.onClick,i=e.className,s=Object(r.a)(e,["label","onClick","className"]);return o.a.createElement("button",Object(n.a)({ref:a,type:"button",className:l()("close",i),onClick:c},s),o.a.createElement("span",{"aria-hidden":"true"},"\xd7"),o.a.createElement("span",{className:"sr-only"},t))}));p.displayName="CloseButton",p.propTypes=b,p.defaultProps={label:"Close"};var g,E=p,h=t(25),j=t(23),O=(g="h4",o.a.forwardRef((function(e,a){return o.a.createElement("div",Object(n.a)({},e,{ref:a,className:l()(e.className,g)}))})));O.displayName="DivStyledAsH4";var N=Object(h.a)("alert-heading",{Component:O}),w=Object(h.a)("alert-link",{Component:j.a}),y={show:!0,transition:d.a,closeLabel:"Close alert"},x=o.a.forwardRef((function(e,a){var t=Object(s.a)(e,{show:"onClose"}),c=t.bsPrefix,i=t.show,v=t.closeLabel,f=t.className,b=t.children,p=t.variant,g=t.onClose,h=t.dismissible,j=t.transition,O=Object(r.a)(t,["bsPrefix","show","closeLabel","className","children","variant","onClose","dismissible","transition"]),N=Object(m.a)(c,"alert"),w=Object(u.a)((function(e){g&&g(!1,e)})),y=!0===j?d.a:j,x=o.a.createElement("div",Object(n.a)({role:"alert"},y?void 0:O,{ref:a,className:l()(f,N,p&&N+"-"+p,h&&N+"-dismissible")}),h&&o.a.createElement(E,{onClick:w,label:v}),b);return y?o.a.createElement(y,Object(n.a)({unmountOnExit:!0},O,{ref:void 0,in:i}),x):i?x:null}));x.displayName="Alert",x.defaultProps=y,x.Link=w,x.Heading=N;a.a=x},87:function(e,a,t){"use strict";var n=t(94),r=t(0),c=t.n(r),l=t(14);a.a=function(e){var a=e.type,t=void 0===a?"text":a,r=e.name,i=e.multiLine,o=void 0!==i&&i,s=e.data,u=void 0===s?null:s,m=e.value,d=e.onChange,v=e.error,f=Object(n.a)(e,["type","name","multiLine","data","value","onChange","error"]);return c.a.createElement("div",{className:"form-group "+(v?"has-danger":"")},c.a.createElement("label",{htmlFor:r},Object(l.a)(r)),u?c.a.createElement("select",Object.assign({id:r,name:r,value:m,onChange:function(e){return d(e.target.value)},className:"form-control form-control-lg "+(v?"form-control-danger":"")},f),u.map((function(e,a){return c.a.createElement("option",{value:e}," ",Object(l.a)(e))}))):o?c.a.createElement("textarea",Object.assign({id:r,name:r,dir:"auto",value:m,onChange:function(e){return d(e.target.value)},className:"form-control form-control-lg "+(v?"form-control-danger":""),rows:5},f)):c.a.createElement("input",Object.assign({id:r,name:r,type:t,value:null!==m&&void 0!==m?m:"",onChange:function(e){return d(e.target.value)},autoComplete:"off",dir:"auto",className:"form-control form-control-lg "+(v?"form-control-danger":"")},f)),c.a.createElement("label",{className:"error mt-2 text-danger"},"object"==typeof v?v.map((function(e){return Object(l.a)(e)+" "})):Object(l.a)(v)),"info"in f&&c.a.createElement("label",{className:"info mt-2 text-info w-100"},f.info))}}}]);
//# sourceMappingURL=11.dc0ba487.chunk.js.map